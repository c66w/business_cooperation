# å•†å®¶åˆä½œæŸ¥çœ‹ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªç”¨äºæŸ¥çœ‹å•†å®¶åˆä½œç”³è¯·çš„ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«å‰ç«¯Reactåº”ç”¨å’Œåç«¯Express.js APIæœåŠ¡ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- ğŸ“‹ å•†å®¶åˆä½œä¿¡æ¯å±•ç¤º
- ğŸ“„ èµ„è´¨æ–‡æ¡£ç®¡ç†ä¸åœ¨çº¿æŸ¥çœ‹
- ğŸ‘€ è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹
- ğŸ“Š æ•°æ®ç»Ÿè®¡å±•ç¤º
- ğŸ”— æ•°æ®å…³è”æŸ¥è¯¢ï¼ˆé€šè¿‡user_idå…³è”ä¸¤å¼ è¡¨ï¼‰
- ğŸ’¾ æ–‡ä»¶ä¸‹è½½åŠŸèƒ½
- ğŸ” æ–‡ä»¶åœ¨çº¿é¢„è§ˆ
- ğŸ“± å“åº”å¼è®¾è®¡

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18
- Ant Design 5
- Axios

### åç«¯
- Node.js
- Express.js
- CORS

## æ•°æ®åº“è¡¨ç»“æ„

### business_cooperation (å•†å®¶åˆä½œä¿¡æ¯è¡¨)
- `__id`: ä¸»é”®
- `user_id`: ç”¨æˆ·IDï¼ˆå”¯ä¸€å€¼ï¼‰
- `company_name`: å…¬å¸åç§°
- `attendee_name`: è”ç³»äººå§“å
- `contact_info`: è”ç³»äººç”µè¯
- `attendee_job`: å…¬å¸èŒåŠ¡
- `industry_operator`: å¯¹æ¥çš„è¡Œä¸šè¿è¥èŠ±å

### business_qualification_document (æ‹›å•†èµ„è´¨æ–‡æ¡£æ•°æ®è¡¨)
- `__id`: ä¸»é”®
- `user_id`: ç”¨æˆ·IDï¼ˆå…³è”å­—æ®µï¼‰
- `file_name`: æ–‡ä»¶åç§°
- `file_url`: æ–‡ä»¶åœ°å€
- `file_id`: æ–‡ä»¶ID
- `file_type`: æ–‡ä»¶ç±»å‹
- `upload_time`: ä¸Šä¼ æ—¶é—´

## ğŸ› ï¸ å®‰è£…å’Œè¿è¡Œ

### ğŸ“¦ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/c66w/business_cooperation.git
cd business_cooperation
```

### 1. é…ç½®æ•°æ®åº“è¿æ¥

å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ï¼š
```bash
cp backend/.env.example backend/.env
```

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š
```bash
DB_BASE_URL=https://data-server-test.ywwl.com
DB_CONNECTION_ID=ä½ çš„è¿æ¥ID
DB_TIMEOUT=30000
PORT=3001
```

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å®‰è£…æ‰€æœ‰é¡¹ç›®ä¾èµ–ï¼ˆå‰ç«¯+åç«¯ï¼‰
npm run install-all
```

### 3. æµ‹è¯•æ•°æ®åº“è¿æ¥

å¯åŠ¨åç«¯æœåŠ¡å¹¶æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š
```bash
cd backend && npm run dev
```

åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:3001/api/test/connection æµ‹è¯•æ•°æ®åº“è¿æ¥ã€‚

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡
npm run dev
```

æˆ–è€…åˆ†åˆ«å¯åŠ¨ï¼š

```bash
# å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£: 3001)
npm run server

# å¯åŠ¨å‰ç«¯æœåŠ¡ (ç«¯å£: 6415)
npm run client
```

### 5. è®¿é—®åº”ç”¨

- å‰ç«¯åº”ç”¨: http://localhost:6415
- åç«¯API: http://localhost:3001

## ğŸ”§ åå°æœåŠ¡ç®¡ç†

### åå°å¯åŠ¨/åœæ­¢è„šæœ¬

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„åå°æœåŠ¡ç®¡ç†è„šæœ¬ï¼š

#### ğŸš€ åå°å¯åŠ¨
```bash
./start-daemon.sh
```
- è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–
- åå°å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡
- ç”ŸæˆPIDæ–‡ä»¶ç”¨äºè¿›ç¨‹ç®¡ç†
- è®°å½•æœåŠ¡æ—¥å¿—åˆ° `logs/` ç›®å½•

#### ğŸ›‘ åœæ­¢æœåŠ¡
```bash
./stop-daemon.sh
```
- ä¼˜é›…åœæ­¢æ‰€æœ‰æœåŠ¡
- æ¸…ç†PIDæ–‡ä»¶
- å¯é€‰æ‹©æ¸…ç†æ—¥å¿—æ–‡ä»¶

#### ğŸ“Š æŸ¥çœ‹çŠ¶æ€
```bash
./status-daemon.sh
```
- æ˜¾ç¤ºæœåŠ¡è¿è¡ŒçŠ¶æ€
- æ£€æŸ¥ç«¯å£å ç”¨æƒ…å†µ
- æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯å’Œèµ„æºä½¿ç”¨
- æ˜¾ç¤ºæœ€è¿‘çš„æ—¥å¿—å†…å®¹

#### ğŸ”„ é‡å¯æœåŠ¡
```bash
./restart-daemon.sh
```
- å…ˆåœæ­¢å†å¯åŠ¨æ‰€æœ‰æœåŠ¡

#### ğŸ“‹ æ—¥å¿—ç®¡ç†
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f logs/backend.log

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f logs/frontend.log

# å®æ—¶ç›‘æ§çŠ¶æ€
watch -n 2 ./status-daemon.sh
```

### æœåŠ¡ç«¯å£é…ç½®
- **å‰ç«¯æœåŠ¡**: 6415 (å¯é€šè¿‡ `frontend/.env` ä¸­çš„ `PORT` ä¿®æ”¹)
- **åç«¯æœåŠ¡**: 3001 (å¯é€šè¿‡ `backend/.env` ä¸­çš„ `BACKEND_PORT` ä¿®æ”¹)

## APIæ¥å£

### è·å–å•†å®¶åˆä½œåˆ—è¡¨
```
GET /api/review/list
```

### è·å–è¯¦ç»†ä¿¡æ¯
```
GET /api/review/detail/:userId
```

### æµ‹è¯•æ•°æ®åº“è¿æ¥
```
GET /api/test/connection
```

## é¡¹ç›®ç»“æ„

```
business_cooperation/
â”œâ”€â”€ package.json                 # æ ¹ç›®å½•é…ç½®
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ start.sh                    # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ server.js              # ExpressæœåŠ¡å™¨
â”‚   â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.js        # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ validators.js      # æ•°æ®éªŒè¯å·¥å…·
â”‚   â””â”€â”€ scripts/
â”‚       â””â”€â”€ test-db.js         # æ•°æ®åº“æµ‹è¯•è„šæœ¬
â””â”€â”€ frontend/                  # å‰ç«¯åº”ç”¨
    â”œâ”€â”€ package.json
    â”œâ”€â”€ public/
    â”‚   â””â”€â”€ index.html
    â””â”€â”€ src/
        â”œâ”€â”€ index.js           # å…¥å£æ–‡ä»¶
        â”œâ”€â”€ App.js             # ä¸»åº”ç”¨ç»„ä»¶
        â”œâ”€â”€ components/
        â”‚   â””â”€â”€ ReviewPage.js  # æŸ¥çœ‹é¡µé¢ç»„ä»¶
        â””â”€â”€ services/
            â””â”€â”€ api.js         # APIæœåŠ¡
```

## åŠŸèƒ½è¯´æ˜

1. **æ•°æ®å…³è”**: é€šè¿‡user_idå­—æ®µå…³è”business_cooperationå’Œbusiness_qualification_documentä¸¤å¼ è¡¨çš„æ•°æ®
2. **ä¿¡æ¯åˆ—è¡¨**: å±•ç¤ºæ‰€æœ‰å•†å®¶åˆä½œç”³è¯·ï¼ŒåŒ…å«åŸºæœ¬ä¿¡æ¯å’Œèµ„è´¨æ–‡æ¡£æ•°é‡
3. **è¯¦æƒ…æŸ¥çœ‹**: ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"å¯ä»¥æŸ¥çœ‹å®Œæ•´çš„åˆä½œä¿¡æ¯å’Œæ‰€æœ‰èµ„è´¨æ–‡æ¡£
4. **ç»Ÿè®¡å±•ç¤º**: æ˜¾ç¤ºåˆä½œç”³è¯·æ€»æ•°ã€æ–‡æ¡£æ€»æ•°ã€æ¶‰åŠè¿è¥äººå‘˜æ•°ç­‰ç»Ÿè®¡ä¿¡æ¯
5. **æ–‡æ¡£ä¸‹è½½**: æ”¯æŒæŸ¥çœ‹å’Œä¸‹è½½èµ„è´¨æ–‡æ¡£

## æ•°æ®å­˜å‚¨

ç³»ç»Ÿä½¿ç”¨SQLiteæœ¬åœ°æ•°æ®åº“å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼š
- å•†å®¶ç”³è¯·ä¿¡æ¯
- å·¥ä½œæµä»»åŠ¡å’Œå†å²è®°å½•
- å®¡æ ¸å‘˜ä¿¡æ¯
- æ–‡æ¡£ä¸Šä¼ è®°å½•

## å¼€å‘è¯´æ˜

- åç«¯ä½¿ç”¨SQLiteæœ¬åœ°æ•°æ®åº“ï¼Œæ— éœ€å¤–éƒ¨æ•°æ®åº“é…ç½®
- æ•°æ®åº“æ–‡ä»¶ä½äº `backend/data/business_cooperation.db`
- åŒ…å«SQLæ³¨å…¥é˜²æŠ¤å’Œæ•°æ®éªŒè¯
- æ”¯æŒå®Œæ•´çš„å•†å®¶ç”³è¯·ã€å®¡æ ¸ã€å·¥ä½œæµç®¡ç†åŠŸèƒ½
- æ‰€æœ‰æ•°æ®æŒä¹…åŒ–å­˜å‚¨ï¼Œé‡å¯ä¸ä¸¢å¤±

## æ•°æ®åº“è¦æ±‚

ç¡®ä¿æ•°æ®åº“ä¸­å­˜åœ¨ä»¥ä¸‹ä¸¤å¼ è¡¨ï¼š

1. `business_cooperation` - å•†å®¶åˆä½œä¿¡æ¯è¡¨
2. `business_qualification_document` - æ‹›å•†èµ„è´¨æ–‡æ¡£æ•°æ®è¡¨

è¡¨ç»“æ„è¯·å‚è€ƒé¡¹ç›®æ–‡æ¡£ä¸­çš„SQLå»ºè¡¨è¯­å¥ã€‚

## ğŸš€ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **æ„å»ºå‰ç«¯åº”ç”¨**
```bash
cd frontend
npm run build
```

2. **é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡**
```bash
# åœ¨backend/.envä¸­é…ç½®ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“
DB_BASE_URL=your_production_api_url
DB_CONNECTION_ID=your_production_connection_id
NODE_ENV=production
```

3. **å¯åŠ¨ç”Ÿäº§æœåŠ¡**
```bash
cd backend
npm start
```

## ğŸ³ Dockeréƒ¨ç½²

### å¿«é€Ÿéƒ¨ç½²

ä½¿ç”¨æä¾›çš„è„šæœ¬ä¸€é”®æ„å»ºå’Œè¿è¡Œï¼š

```bash
# ä¸€é”®æ„å»ºå’Œå¯åŠ¨
./build-and-run.sh
```

### æ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. æ„å»ºé•œåƒ
docker compose build

# 2. å¯åŠ¨æœåŠ¡
docker compose up -d

# 3. æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# 4. åœæ­¢æœåŠ¡
docker compose down
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²æ—¶ï¼š

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/c66w/business_cooperation.git
cd business_cooperation

# 2. æ„å»ºå’Œå¯åŠ¨
./build-and-run.sh

# 3. è®¿é—®åº”ç”¨
# å‰ç«¯é¡µé¢: http://your-server-ip:3001
# APIæ¥å£: http://your-server-ip:3001/api
```

### ç«¯å£è¯´æ˜

- **3001**: ä¸»æœåŠ¡ç«¯å£ï¼ˆå‰ç«¯é¡µé¢ + åç«¯APIï¼‰
- **8000**: Pythonå¾®æœåŠ¡ç«¯å£ï¼ˆå¯é€‰ï¼Œç”¨äºç›´æ¥è®¿é—®æ–‡æ¡£å¤„ç†APIï¼‰

### ç¯å¢ƒå˜é‡é…ç½®

ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ—¶ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

```bash
# docker-compose.override.yml
version: '3.8'
services:
  business-cooperation:
    environment:
      - NODE_ENV=production
      - BACKEND_PORT=3001
      - PYTHON_SERVICE_PORT=8000
```

## ğŸ¤ è´¡çŒ®

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-08-22)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ“‹ å•†å®¶åˆä½œä¿¡æ¯ç®¡ç†
- ğŸ“„ èµ„è´¨æ–‡æ¡£æŸ¥çœ‹å’Œä¸‹è½½
- ğŸ” æ–‡ä»¶åœ¨çº¿é¢„è§ˆåŠŸèƒ½
- ğŸ“Š æ•°æ®ç»Ÿè®¡å±•ç¤º

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ ISC è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¨â€ğŸ’» ä½œè€…

- **Cooper** - [c66w](https://github.com/c66w)

## ğŸ™ è‡´è°¢

- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Ant Design](https://ant.design/) - UIç»„ä»¶åº“
- [Express.js](https://expressjs.com/) - åç«¯æ¡†æ¶
